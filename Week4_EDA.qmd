---
title: "Week 4 In-class Assignment"
author: "Felix Ho"
date: "2024-09-30"
format: pdf
---

```{r}
#| label: load-packages
#| include: false
library(here)
library(tidyverse)
```

```{r}
finaldata <- read.csv(here("data", "mergealldata.csv"), header = TRUE) 
names(finaldata)
```

The main exposure variable is armed conflict. As per the paper, there are 10 covariates, country and year fixed effects, and conflict lagged by 1 year.

Corresponding to Table 2 in the paper:

-   armcon = armed conflict (binary) variable lagged by 1 year

**10 covariates:**

-   gdp1000 = GDP per capita in US dollars (unit is scaled up by 1,000)

-   OECD = OECD member

-   popdens = population density represents the % of the population living in a density of \>1,000 people/km^2^

-   urban = urban residence represents the % of the population living in urban areas

-   agedep = age dependency ratio represents the proportion of dependents (aged \< 15 years or \> 64 years) per 100 working-age individuals

-   male_edu = male education expressed as years per capita (age-standardised)

-   temp = temperature in degrees Celsius and is the mean population-weighted annual temperature

-   rainfall1000 = mean population-weighted annual rainfall in mm per year (scaled down by 1,000)

-   earthquake = earthquake binary variable (absence or presence)

-   drought = drought binary variable (absence or presence)

**Primary outcomes:**

-   matmor = maternal mortality rate

-   un5mor = under-5 mortality rate

-   infmor = infant mortality rate

-   neomor = neonatal mortality rate

**Note:**

-   totdeath = total number of battle related deaths

Check observations from Canada.

```{r}
finaldata %>% 
  filter(country_name == "Canada")
```

Check observations from Ecuador.

```{r}
finaldata %>% 
  filter(country_name == "Ecuador")
```

Determine the classes of the variables.

```{r}
glimpse(finaldata)
```

Not clear what OECD2023 stands for. How is it different from OECD?

View the key summary statistics of numeric variables and the number of NA's for the variables.

```{r}
summary(finaldata)
```

The median of gdp1000 (4.0719) appears to be far from the mean (11.4917). The distribution of gdp1000 may be positively skewed. The median of matmor (66.0) appears to be far from the mean (210.6). The distribution of matmor may be positively skewed. The median of infmor (18.90) appears to be far from the mean (28.90). The distribution of infmor may be positively skewed. The median of un5mor (22.20) appears to be far from the mean (40.50). The distribution of un5mor may be positively skewed. There is a lot of NA's for matmor (426).

```{r}
table(finaldata$OECD)
```

OECD is a binary variable. Maybe 0 and 1 represents nonmember and member of OECD, respectively?

Focus on countries with high matmor.

```{r}
highmatmor <- finaldata %>% 
  select(country_name, year, matmor) %>% 
  arrange(desc(matmor))
highmatmor[1:20,]
```
The countries with high matmor do not appear to be developed countries, which make sense.
